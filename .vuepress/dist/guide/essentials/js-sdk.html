<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="viewport"content="width=device-width,initial-scale=1"><title>Guard 内置 JS SDK | Authing Guard 文档</title><meta name="generator"content="VuePress 1.9.9"><link rel="icon"href="https://authing.cn/favicon.ico"><meta name="description"content="Authing Guard 文档"><link rel="preload"href="/packages/guard/doc/assets/css/0.styles.aa5033b4.css"as="style"><link rel="preload"href="/packages/guard/doc/assets/js/app.8e1fb774.js"as="script"><link rel="preload"href="/packages/guard/doc/assets/js/5.055bb98d.js"as="script"><link rel="preload"href="/packages/guard/doc/assets/js/6.aae15fb4.js"as="script"><link rel="preload"href="/packages/guard/doc/assets/js/38.40517bf7.js"as="script"><link rel="stylesheet"href="/packages/guard/doc/assets/css/0.styles.aa5033b4.css"></head><body><div id="app"data-server-rendered="true"><div class="theme-container"><div class="vue-notification-group"style="width:300px;top:0px;left:calc(50% - 150px);"></div><header class="navbar fixed-header"><div class="navbar-container content-layout-container"><div class="nav-bar-logo-container"><a href="https://docs.authing.cn"class="nav-bar-new-logo"><img src="https://files.authing.co/authing-console/authing-logo-new-20210924.svg"alt="Authing Guard 文档"class="logo"></a><a href="https://docs.authing.cn/v2/"class="home-link"><span class="site-name">Web Guard</span></a></div><div class="links can-hide"><nav class="nav-links can-hide"><div class="nav-item"><a href="/packages/guard/doc/guide/"class="nav-link router-link-active">指南</a></div><div class="nav-item"><a href="/packages/guard/doc/plugin/"class="nav-link">插件</a></div><div class="nav-item"><a href="https://cdn.authing.co/packages/guard/ui/index.html"rel="noopener noreferrer"class="nav-link external">在线体验</a></div><div class="nav-item"><a href="https://forum.authing.cn"rel="noopener noreferrer"class="nav-link external">社区</a></div><div class="nav-item"><a href="https://www.authing.cn/blog"rel="noopener noreferrer"class="nav-link external">博客</a></div><div class="nav-item"><a href="/packages/guard/doc/about/releases.html"class="nav-link">更新日志</a></div><div class="nav-item"><a href="/packages/guard/doc/about/introduce.html"class="nav-link">关于</a></div><div class="nav-item"><a href="https://github.com/authing/guard"rel="noopener noreferrer"class="nav-link external">GitHub</a></div></nav><select class="version-selector"><option selected="selected"value="6.0.0-alpha.12">6.0.0-alpha.12</option><option value="5.x">5.x</option><option value="4.x">4.x</option></select></div><div class="authing-search-box"><input aria-label="Search"placeholder="输入关键字搜索"autocomplete="off"spellcheck="false"value=""></div><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg"aria-hidden="true"role="img"viewBox="0 0 448 512"class="icon"></svg></div></div></header><main class="page content-layout-container"><div class="main-content"><aside class="sidebar"><ul class="sidebar-links"><li data-index="0"><section class="sidebar-group depth-0"data-v-079073a6><p class="sidebar-heading"data-v-079073a6><span class="arrow right-arrow"style="display:none;"data-v-079073a6><img src="/packages/guard/doc/assets/img/arrow-right-s-fill.c2e17522.svg"data-v-079073a6></span><span class="sidebar-heading__title"data-v-079073a6>使用指南</span></p><ul class="sidebar-links sidebar-group-items"data-v-079073a6 data-v-079073a6><li data-index="0-0"><a href="/packages/guard/doc/guide/"aria-current="page"class="sidebar-link">介绍</a></li><li data-index="0-1"><a href="/packages/guard/doc/guide/install.html"class="sidebar-link">安装</a></li><li data-index="0-2"><a href="/packages/guard/doc/guide/quick-start.html"class="sidebar-link">快速开始</a></li><li data-index="0-3"><a href="/packages/guard/doc/guide/config.html"class="sidebar-link">初始配置</a></li><li data-index="0-4"><a href="/packages/guard/doc/guide/types.html"class="sidebar-link">类型定义</a></li></ul></section></li><li data-index="1"><section class="sidebar-group depth-0"data-v-079073a6><p class="sidebar-heading"data-v-079073a6><span class="arrow right-arrow"style="display:none;"data-v-079073a6><img src="/packages/guard/doc/assets/img/arrow-right-s-fill.c2e17522.svg"data-v-079073a6></span><span class="sidebar-heading__title"data-v-079073a6>基础</span></p><ul class="sidebar-links sidebar-group-items"data-v-079073a6 data-v-079073a6><li><a href="https://docs.authing.cn/v2/guides/app-new/create-app/create-app.html"target="_blank"rel="noopener noreferrer"class="sidebar-link">创建一个 Authing 应用<span><svg xmlns="http://www.w3.org/2000/svg"aria-hidden="true"focusable="false"x="0px"y="0px"viewBox="0 0 100 100"width="15"height="15"class="icon outbound"></svg> <span class="sr-only">(opens new window)</span></span></a></li><li data-index="1-1"><a href="/packages/guard/doc/guide/essentials/mode.html"class="sidebar-link">了解 Guard 使用模式</a></li><li data-index="1-2"><a href="/packages/guard/doc/guide/essentials/console-local-relationship.html"class="sidebar-link">控制台配置与本地配置</a></li></ul></section></li><li data-index="2"><section class="sidebar-group depth-0"data-v-079073a6><p class="sidebar-heading"data-v-079073a6><span class="arrow right-arrow"style="display:none;"data-v-079073a6><img src="/packages/guard/doc/assets/img/arrow-right-s-fill.c2e17522.svg"data-v-079073a6></span><span class="sidebar-heading__title"data-v-079073a6>API</span></p><ul class="sidebar-links sidebar-group-items"data-v-079073a6 data-v-079073a6><li data-index="2-0"><a href="/packages/guard/doc/guide/essentials/login.html"class="sidebar-link">登录</a></li><li data-index="2-1"><a href="/packages/guard/doc/guide/essentials/logout.html"class="sidebar-link">登出</a></li><li data-index="2-2"><a href="/packages/guard/doc/guide/essentials/trackSession.html"class="sidebar-link">获取用户信息</a></li><li data-index="2-3"><a href="/packages/guard/doc/guide/essentials/change-view.html"class="sidebar-link">切换视图</a></li><li data-index="2-4"><a href="/packages/guard/doc/guide/essentials/events.html"class="sidebar-link">事件</a></li><li data-index="2-5"><a href="/packages/guard/doc/guide/essentials/change-language.html"class="sidebar-link">切换语言</a></li><li data-index="2-6"><a href="/packages/guard/doc/guide/essentials/change-content-css.html"class="sidebar-link">自定义样式</a></li><li data-index="2-7"><a href="/packages/guard/doc/guide/essentials/refresh-token.html"class="sidebar-link">刷新 Token</a></li><li data-index="2-8"><a href="/packages/guard/doc/guide/essentials/agreemetns.html"class="sidebar-link">操作登录注册协议</a></li></ul></section></li><li data-index="3"><section class="sidebar-group depth-0"data-v-079073a6><p class="sidebar-heading open"data-v-079073a6><span class="arrow down-arrow"style="display:none;"data-v-079073a6><img src="/packages/guard/doc/assets/img/arrow-down-s-fill.4c17f7bf.svg"data-v-079073a6></span><span class="sidebar-heading__title"data-v-079073a6>高级功能</span></p><ul class="sidebar-links sidebar-group-items"data-v-079073a6 data-v-079073a6><li data-index="3-0"><a href="/packages/guard/doc/guide/essentials/js-sdk.html"aria-current="page"class="active sidebar-link">使用 JS SDK</a></li><li data-index="3-1"><a href="/packages/guard/doc/guide/essentials/sso.html"class="sidebar-link">SSO 单点登录</a></li><li data-index="3-2"><a href="/packages/guard/doc/guide/essentials/social.html"class="sidebar-link">第三方身份源登录</a></li><li data-index="3-3"><a href="/packages/guard/doc/guide/essentials/mfa.html"class="sidebar-link">MFA 多因素认证</a></li><li data-index="3-4"><a href="/packages/guard/doc/guide/essentials/safe-domain.html"class="sidebar-link">配置安全域</a></li><li data-index="3-5"><a href="/packages/guard/doc/guide/essentials/privatization.html"class="sidebar-link">私有化部署</a></li></ul></section></li></ul></aside><div class="breadcrumb-content-container"><div class="theme-default-content content__default"><h1 id="guard-内置-js-sdk"><a href="#guard-内置-js-sdk"class="header-anchor">¶</a> Guard 内置 JS SDK</h1><div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Guard</span> <span class="token punctuation">{</span>
  <span class="token keyword">async</span> <span class="token function">getAuthClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>AuthenticationClient<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Authing Guard 集成了 <a href="https://docs.authing.cn/v2/reference/sdk-for-node/authentication/"target="_blank"rel="noopener noreferrer">authing-js-sdk 的 AuthenticationClient<span><svg xmlns="http://www.w3.org/2000/svg"aria-hidden="true"focusable="false"x="0px"y="0px"viewBox="0 0 100 100"width="15"height="15"class="icon outbound"></svg> <span class="sr-only">(opens new window)</span></span></a>（<code>AuthenticationClient</code> 以终端用户（End User）的身份进行请求，提供了登录、注册、登出、管理用户资料、获取授权资源等所有管理用户身份的方法；此模块还提供了各种身份协议的 SDK，如 <a href="https://docs.authing.cn/v2/guides/federation/oidc.html"target="_blank"rel="noopener noreferrer">OpenID Connect<span><svg xmlns="http://www.w3.org/2000/svg"aria-hidden="true"focusable="false"x="0px"y="0px"viewBox="0 0 100 100"width="15"height="15"class="icon outbound"></svg> <span class="sr-only">(opens new window)</span></span></a>、<a href="https://docs.authing.cn/v2/guides/federation/oauth.html"target="_blank"rel="noopener noreferrer">OAuth 2.0<span><svg xmlns="http://www.w3.org/2000/svg"aria-hidden="true"focusable="false"x="0px"y="0px"viewBox="0 0 100 100"width="15"height="15"class="icon outbound"></svg> <span class="sr-only">(opens new window)</span></span></a>、<a href="https://docs.authing.cn/v2/guides/federation/saml.html"target="_blank"rel="noopener noreferrer">SAML<span><svg xmlns="http://www.w3.org/2000/svg"aria-hidden="true"focusable="false"x="0px"y="0px"viewBox="0 0 100 100"width="15"height="15"class="icon outbound"></svg> <span class="sr-only">(opens new window)</span></span></a>、<a href="https://docs.authing.cn/v2/guides/federation/cas.html"target="_blank"rel="noopener noreferrer">CAS<span><svg xmlns="http://www.w3.org/2000/svg"aria-hidden="true"focusable="false"x="0px"y="0px"viewBox="0 0 100 100"width="15"height="15"class="icon outbound"></svg> <span class="sr-only">(opens new window)</span></span></a>）。</p><p>你可以通过 <code>getAuthClient</code> 获取 <code>AuthenticationClient</code> 实例，之后可调用 <code>AuthenticationClient</code> 的所有方法。</p><div class="tabs-component"><div class="tabs-component-panels"><section aria-hidden="true"id="react"role="tabpanel"class="tabs-component-panel"style="display:none;"><div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token comment">// React 16 / 17</span>
<span class="token comment">// 代码示例：https://github.com/Authing/Guard/tree/dev-v6/examples/guard-react/normal/src/pages/Personal.tsx</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useGuard<span class="token punctuation">,</span> AuthenticationClient<span class="token punctuation">,</span> User <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@authing/guard-react&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// React 18</span>
<span class="token comment">// 代码示例：https://github.com/Authing/Guard/tree/dev-v6/examples/guard-react18/normal/src/pages/Personal.tsx</span>
<span class="token comment">// import { useGuard, AuthenticationClient, User } from &quot;@authing/guard-react18&quot;;</span>

<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Personal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> guard <span class="token operator">=</span> <span class="token function">useGuard</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">updateProfile</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> authenticationClient<span class="token operator">:</span> AuthenticationClient <span class="token operator">=</span> <span class="token keyword">await</span> guard<span class="token punctuation">.</span><span class="token function">getAuthClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 获取到 AuthenticationClient 实例之后，可以调用其提供的所有方法</span>
    <span class="token comment">// 比如更新用户昵称</span>
    <span class="token keyword">const</span> userProfile<span class="token operator">:</span> User <span class="token operator">=</span> <span class="token keyword">await</span> authenticationClient<span class="token punctuation">.</span><span class="token function">updateProfile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      nickname<span class="token operator">:</span> <span class="token string">&quot;Nick&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;userProfile: &quot;</span><span class="token punctuation">,</span> userProfile<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 更多 AuthenticationClient 的方法，请见 authing-js-sdk 文档介绍。</span>
    <span class="token comment">// https://docs.authing.cn/v2/reference/sdk-for-node/authentication/</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>authing-button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>updateProfile<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        Update Profile
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></section><section aria-hidden="true"id="vue2"role="tabpanel"class="tabs-component-panel"style="display:none;"><div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>personal-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 代码示例：https://github.com/Authing/Guard/tree/dev-v6/examples/guard-vue2/normal/src/views/Personal.vue --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>authing-button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>updateProfile<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      Update Profile
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token keyword">async</span> <span class="token function">updateProfile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> authenticationClient <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$guard<span class="token punctuation">.</span><span class="token function">getAuthClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// 获取到 AuthenticationClient 实例之后，可以调用其提供的所有方法</span>
      <span class="token comment">// 比如更新用户昵称</span>
      <span class="token keyword">const</span> userProfile <span class="token operator">=</span> <span class="token keyword">await</span> authenticationClient<span class="token punctuation">.</span><span class="token function">updateProfile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">nickname</span><span class="token operator">:</span> <span class="token string">&quot;Nick&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>userProfile<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// 更多 AuthenticationClient 的方法，请见 authing-js-sdk 文档介绍。</span>
      <span class="token comment">// https://docs.authing.cn/v2/reference/sdk-for-node/authentication/</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></section><section aria-hidden="true"id="vue3"role="tabpanel"class="tabs-component-panel"style="display:none;"><div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>personal-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 代码示例：https://github.com/Authing/Guard/tree/dev-v6/examples/guard-vue3/normal/src/views/Personal.vue --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>updateProfile<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Update Profile<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> useGuard <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@authing/guard-vue3&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> type <span class="token punctuation">{</span> User<span class="token punctuation">,</span> AuthenticationClient <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@authing/guard-vue3&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> guard <span class="token operator">=</span> <span class="token function">useGuard</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">updateProfile</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token literal-property property">authenticationClient</span><span class="token operator">:</span> AuthenticationClient <span class="token operator">=</span> <span class="token keyword">await</span> guard<span class="token punctuation">.</span><span class="token function">getAuthClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 获取到 AuthenticationClient 实例之后，可以调用其提供的所有方法</span>
  <span class="token comment">// 比如更新用户昵称</span>
  <span class="token keyword">const</span> <span class="token literal-property property">userProfile</span><span class="token operator">:</span> User <span class="token operator">=</span> <span class="token keyword">await</span> authenticationClient<span class="token punctuation">.</span><span class="token function">updateProfile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">nickname</span><span class="token operator">:</span> <span class="token string">&quot;Nick&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>userProfile<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 更多 AuthenticationClient 的方法，请见 authing-js-sdk 文档介绍。</span>
  <span class="token comment">// https://docs.authing.cn/v2/reference/sdk-for-node/authentication/</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></section><section aria-hidden="true"id="angular"role="tabpanel"class="tabs-component-panel"style="display:none;"><div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// 代码示例：https://github.com/Authing/Guard/tree/dev-v6/examples/guard-angular/normal/src/app/pages/personal/personal.component.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@angular/core&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  AuthenticationClient<span class="token punctuation">,</span>
  GuardService<span class="token punctuation">,</span>
  User<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@authing/guard-angular&quot;</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  selector<span class="token operator">:</span> <span class="token string">&quot;personal-container&quot;</span><span class="token punctuation">,</span>
  templateUrl<span class="token operator">:</span> <span class="token string">&quot;./personal.component.html&quot;</span><span class="token punctuation">,</span>
  styleUrls<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;./personal.component.css&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">PersonalComponent</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> guard<span class="token operator">:</span> GuardService<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token keyword">async</span> <span class="token function">updateProfile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> authenticationClient<span class="token operator">:</span> AuthenticationClient <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>guard<span class="token punctuation">.</span>client<span class="token punctuation">.</span><span class="token function">getAuthClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 获取到 AuthenticationClient 实例之后，可以调用其提供的所有方法</span>
    <span class="token comment">// 比如更新用户昵称</span>
    <span class="token keyword">const</span> userProfile<span class="token operator">:</span> User <span class="token operator">=</span> <span class="token keyword">await</span> authenticationClient<span class="token punctuation">.</span><span class="token function">updateProfile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      nickname<span class="token operator">:</span> <span class="token string">&quot;Nick&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;userProfile: &quot;</span><span class="token punctuation">,</span> userProfile<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 更多 AuthenticationClient 的方法，请见 authing-js-sdk 文档介绍。</span>
    <span class="token comment">// https://docs.authing.cn/v2/reference/sdk-for-node/authentication/</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></section><section aria-hidden="true"id="cdn"role="tabpanel"class="tabs-component-panel"style="display:none;"><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 代码示例：https://github.com/Authing/Guard/tree/dev-v6/examples/guard/normal/embed.html</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">updateProfile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> authenticationClient <span class="token operator">=</span> <span class="token keyword">await</span> guard<span class="token punctuation">.</span><span class="token function">getAuthClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 获取到 AuthenticationClient 实例之后，可以调用其提供的所有方法</span>
  <span class="token comment">// 比如更新用户昵称</span>
  <span class="token keyword">const</span> userProfile <span class="token operator">=</span> <span class="token keyword">await</span> authenticationClient<span class="token punctuation">.</span><span class="token function">updateProfile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">nickname</span><span class="token operator">:</span> <span class="token string">&quot;Nick&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;userProfile: &quot;</span><span class="token punctuation">,</span> userProfile<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 更多 AuthenticationClient 的方法，请见 authing-js-sdk 文档介绍。</span>
  <span class="token comment">// https://docs.authing.cn/v2/reference/sdk-for-node/authentication/</span>
<span class="token punctuation">}</span>
</code></pre></div></section></div></div></div><div class="page-nav"data-v-1da1a9e6><div class="inner"data-v-1da1a9e6><a href="/packages/guard/doc/guide/essentials/agreemetns.html"class="prev"data-v-1da1a9e6>上一篇: 操作登录注册协议 </a><a href="/packages/guard/doc/guide/essentials/sso.html"class="next"data-v-1da1a9e6>下一篇: SSO 单点登录</a></div></div></div><div class="on-this-page"><aside class="on-this-page-navigation"><div style="display:none;"><div></div></div></aside></div></div></main><footer class="footer"><div class="content-layout-container footer-container"><a href="https://docs.authing.cn"class="footer-logo"><img width="100px"src="https://files.authing.co/authing-console/authing-logo-new-20210924.svg"></a><div class="footer-collapse"><h4 class="footer-title">用户身份管理</h4><div class="footer-collapse-content"><div class="footer-link-wrapper"><a href="/packages/guard/doc/guides/connections/"class="nav-link footer-link">集成第三方登录</a></div><div class="footer-link-wrapper"><a href="https://authing.cn/verify"rel="noopener noreferrer"class="nav-link external footer-link">手机号闪验</a></div><div class="footer-link-wrapper"><a href="/packages/guard/doc/guide/ui-components/"class="nav-link footer-link">通用登录表单组件</a></div><div class="footer-link-wrapper"><a href="/packages/guard/doc/guides/pipeline/"class="nav-link footer-link">自定义认证流程</a></div></div></div><div class="footer-collapse"><h4 class="footer-title">企业内部管理</h4><div class="footer-collapse-content"><div class="footer-link-wrapper"><a href="/packages/guard/doc/guides/app-new/sso/"class="nav-link footer-link">单点登录</a></div><div class="footer-link-wrapper"><a href="/packages/guard/doc/guides/security/mfa/"class="nav-link footer-link">多因素认证</a></div><div class="footer-link-wrapper"><a href="/packages/guard/doc/guides/access-control/"class="nav-link footer-link">权限管理</a></div></div></div><div class="footer-collapse"><h4 class="footer-title">开发者</h4><div class="footer-collapse-content"><div class="footer-link-wrapper"><a href="/packages/guard/doc/guide/"class="nav-link footer-link router-link-active">开发文档</a></div><div class="footer-link-wrapper"><a href="/packages/guard/doc/guide/frameworks.html"class="nav-link footer-link">框架集成</a></div><div class="footer-link-wrapper"><a href="https://authing.cn/blog"rel="noopener noreferrer"class="nav-link external footer-link">博客</a></div><div class="footer-link-wrapper"><a href="https://github.com/authing"rel="noopener noreferrer"class="nav-link external footer-link">GitHub</a></div><div class="footer-link-wrapper"><a href="https://forum.authing.cn/"rel="noopener noreferrer"class="nav-link external footer-link">社区用户中心</a></div></div></div><div><div class="footer-collapse"><h4 class="footer-title">公司</h4><div class="footer-collapse-content"><div class="footer-text-wrapper">400 888 2106</div><div class="footer-text-wrapper"><a href="mailto:sales@authing.cn">sales@authing.cn</a></div><div class="footer-text-wrapper text-paragh">北京市朝阳区北辰世纪中心 B 座 16 层（总）</div><div class="footer-text-wrapper text-paragh">成都市高新区天府五街 200 号 1 号楼 B 区 4 楼 406 室（分）</div></div></div></div><div class="footer-last-right-container"><p class="footer-icp-record">京ICP备19051205号</p><p class="footer-icp-record"><img src="//files.authing.co/authing-website/icon-beian-gov.png"alt="beian">京公网安备 11010802035968号</p><p class="footer-company-name">© 北京蒸汽记忆科技有限公司</p><div class="footer-social-container"><a title="GitHub"target="_blank"href="https://github.com/Authing"><svg aria-hidden="true"class="icon"></svg></a><a title="Forum"target="_blank"href="https://forum.authing.cn/"><svg aria-hidden="true"class="icon"></svg></a><a title="知乎"target="_blank"href="https://www.zhihu.com/org/authing"><svg aria-hidden="true"class="icon"></svg></a></div></div></div></footer></div></div><script src="/packages/guard/doc/assets/js/app.8e1fb774.js"defer="defer"></script><script src="/packages/guard/doc/assets/js/5.055bb98d.js"defer="defer"></script><script src="/packages/guard/doc/assets/js/6.aae15fb4.js"defer="defer"></script><script src="/packages/guard/doc/assets/js/38.40517bf7.js"defer="defer"></script></body></html>